(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fcefed8"],{"1dde":function(t,e,a){var c=a("d039"),i=a("b622"),s=a("2d00"),l=i("species");t.exports=function(t){return s>=51||!c((function(){var e=[],a=e.constructor={};return a[l]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"687d":function(t,e,a){"use strict";a("f5e9")},8418:function(t,e,a){"use strict";var c=a("c04e"),i=a("9bf2"),s=a("5c6c");t.exports=function(t,e,a){var l=c(e);l in t?i.f(t,l,s(0,a)):t[l]=a}},"99af":function(t,e,a){"use strict";var c=a("23e7"),i=a("d039"),s=a("e8b5"),l=a("861d"),n=a("7b0b"),o=a("50c4"),r=a("8418"),d=a("65f0"),b=a("1dde"),u=a("b622"),f=a("2d00"),m=u("isConcatSpreadable"),j=9007199254740991,O="Maximum allowed index exceeded",p=f>=51||!i((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),h=b("concat"),v=function(t){if(!l(t))return!1;var e=t[m];return void 0!==e?!!e:s(t)},g=!p||!h;c({target:"Array",proto:!0,forced:g},{concat:function(t){var e,a,c,i,s,l=n(this),b=d(l,0),u=0;for(e=-1,c=arguments.length;e<c;e++)if(s=-1===e?l:arguments[e],v(s)){if(i=o(s.length),u+i>j)throw TypeError(O);for(a=0;a<i;a++,u++)a in s&&r(b,u,s[a])}else{if(u>=j)throw TypeError(O);r(b,u++,s)}return b.length=u,b}})},b0c0:function(t,e,a){var c=a("83ab"),i=a("9bf2").f,s=Function.prototype,l=s.toString,n=/^\s*function ([^ (]*)/,o="name";c&&!(o in s)&&i(s,o,{configurable:!0,get:function(){try{return l.call(this).match(n)[1]}catch(t){return""}}})},b789:function(t,e,a){"use strict";a.r(e);a("b0c0");var c=a("7a23"),i=Object(c["S"])("data-v-7fe01a0c");Object(c["x"])("data-v-7fe01a0c");var s={class:"container"},l=Object(c["i"])("h1",null,"購物車頁面",-1),n={class:"container"},o={class:"table align-middle"},r=Object(c["i"])("thead",null,[Object(c["i"])("tr",null,[Object(c["i"])("th"),Object(c["i"])("th",null,"品名"),Object(c["i"])("th",{style:{width:"150px"}},"數量/單位"),Object(c["i"])("th",null,"單價")])],-1),d={key:0,class:"fas fa-spinner fa-pulse"},b=Object(c["h"])(" x "),u={key:0,class:"text-success"},f={class:"input-group input-group-sm"},m={class:"input-group mb-3"},j={class:"input-group-text",id:"basic-addon2"},O={class:"text-end"},p={key:0,class:"text-success"},h=Object(c["i"])("td",{colspan:"3",class:"text-end"},"總計",-1),v={class:"text-end"},g={key:0},x=Object(c["i"])("td",{colspan:"3",class:"text-end text-success"},"折扣價",-1),y={class:"text-end text-success"},w={class:"my-5 row justify-content-center"},k={class:"mb-3"},C=Object(c["i"])("label",{for:"email",class:"form-label"},"Email",-1),V={class:"mb-3"},S=Object(c["i"])("label",{for:"name",class:"form-label"},"收件人姓名",-1),L={class:"mb-3"},I=Object(c["i"])("label",{for:"tel",class:"form-label"},"收件人電話",-1),_={class:"mb-3"},G=Object(c["i"])("label",{for:"address",class:"form-label"},"收件人地址",-1),q={class:"mb-3"},U=Object(c["i"])("label",{for:"message",class:"form-label"},"留言",-1),$=Object(c["i"])("div",{class:"text-end"},[Object(c["i"])("button",{type:"submit",class:"btn btn-danger"},"送出訂單")],-1),D={class:"container"},E={key:0,class:"row justify-content-center"},T={class:"col-md-6 bg-white py-5",style:{"min-height":"calc(100vh - 56px - 76px)"}},z=Object(c["i"])("div",{class:"d-flex justify-content-between"},[Object(c["i"])("h2",{class:"mt-2"},"Cart Detail")],-1),B={class:"w-100 p-3 position-relative"},F=Object(c["i"])("a",{href:"#",class:"position-absolute",style:{top:"16px",right:"16px"}},[Object(c["i"])("i",{class:"fas fa-times"})],-1),A={class:"mb-0 fw-bold"},W={class:"mb-1 text-muted",style:{"font-size":"14px"}},J=Object(c["g"])('<div class="d-flex justify-content-between align-items-center w-100" data-v-7fe01a0c><div class="input-group w-50 align-items-center" data-v-7fe01a0c><div class="input-group-prepend pe-1" data-v-7fe01a0c><a href="#" data-v-7fe01a0c><i class="fas fa-minus" data-v-7fe01a0c></i></a></div><input type="text" class="\n                    form-control\n                    border-0\n                    text-center\n                    my-auto\n                    shadow-none\n                    bg-light\n                    px-0\n                  " placeholder="" aria-label="Example text with button addon" aria-describedby="button-addon1" value="1" data-v-7fe01a0c><div class="input-group-append ps-1" data-v-7fe01a0c><a href="#" data-v-7fe01a0c><i class="fas fa-plus" data-v-7fe01a0c></i></a></div></div><p class="mb-0 ms-auto" data-v-7fe01a0c>NT$12,000</p></div>',1),M=Object(c["g"])('<table class="table mt-4 text-muted" data-v-7fe01a0c><tbody data-v-7fe01a0c><tr data-v-7fe01a0c><th scope="row" class="border-0 px-0 font-weight-normal" data-v-7fe01a0c>總計</th><td class="text-end border-0 px-0" data-v-7fe01a0c></td></tr><tr data-v-7fe01a0c><th scope="row" class="border-0 px-0 pt-0 font-weight-normal" data-v-7fe01a0c> Lorem ipsum </th><td class="text-end border-0 px-0 pt-0" data-v-7fe01a0c>NT$500</td></tr></tbody></table><div class="d-flex justify-content-between mt-4" data-v-7fe01a0c><p class="mb-0 h4 fw-bold" data-v-7fe01a0c>總計</p><p class="mb-0 h4 fw-bold" data-v-7fe01a0c></p></div><a href="./checkout.html" class="btn btn-dark btn-block mt-4 rounded-0 py-3" data-v-7fe01a0c>Lorem ipsum</a>',3),N=Object(c["i"])("section",null,[Object(c["i"])("div",{class:"bg-dark py-5"},[Object(c["i"])("div",{class:"container"},[Object(c["i"])("div",{class:"\n            row\n            flex-wrap\n            align-items-center\n            justify-content-between\n            text-white\n            mb-md-7 mb-4\n          "},[Object(c["i"])("div",{class:"col-md-2"},[Object(c["i"])("img",{src:"img/logo/hero.png",alt:" ",class:"img-fluid"})]),Object(c["i"])("div",{class:"col-md-5 p-5"},[Object(c["i"])("ul",{class:"list-unstyled"},[Object(c["i"])("li",{class:"mb-3"},[Object(c["i"])("h4",null,[Object(c["i"])("img",{src:"img/logo/hero.png",width:"50px"})])]),Object(c["i"])("li",{class:"mb-3"},[Object(c["i"])("h6",{class:"text-start"},[Object(c["h"])(" 服務電話"),Object(c["i"])("a",{class:"px-3",href:"tel:0925339425"},"0925339425")])]),Object(c["i"])("li",{class:"mb-3"},[Object(c["i"])("h6",{class:"text-start"},[Object(c["h"])(" 服務地址"),Object(c["i"])("a",{class:"px-3",href:"#"},"桃園市中壢區榮民九路564號")])]),Object(c["i"])("li",{class:"mb-3"},[Object(c["i"])("h6",{class:"text-start"},[Object(c["h"])(" Facebook"),Object(c["i"])("a",{class:"px-3",href:"#"},"好酒不見")])]),Object(c["i"])("li",{class:"mb-3"},[Object(c["i"])("h6",{class:"text-start"},[Object(c["h"])(" Line"),Object(c["i"])("a",{class:"px-3",href:"#"},"點擊加入官方帳號")])]),Object(c["i"])("li",{class:"mb-3"},[Object(c["i"])("h6",{class:"text-start"},[Object(c["h"])(" instagram"),Object(c["i"])("a",{class:"px-3",href:"#"},"@longtim 最新動態顯示")])]),Object(c["i"])("li",{class:"mb-3"},[Object(c["i"])("h6",{class:"text-start"},[Object(c["h"])(" Gmail"),Object(c["i"])("a",{class:"px-3",href:"tel:0925339425"},"mark8486305@gmail.com")])]),Object(c["i"])("li",{class:"d-flex justify-content-start"},[Object(c["i"])("a",{href:"#",class:"text-white me-4"},[Object(c["i"])("i",{class:"pe-2 fs-3 bi bi-facebook"})]),Object(c["i"])("a",{href:"#",class:"text-white me-4"},[Object(c["i"])("i",{class:"pe-2 fs-3 bi bi-instagram"})]),Object(c["i"])("a",{href:"#",class:"text-white me-4"},[Object(c["i"])("i",{class:"bi pe-2 fs-3 bi-phone-fill"})]),Object(c["i"])("a",{href:"#",class:"text-white me-4"},[Object(c["i"])("i",{class:"bi pe-2 fs-3 bi-map-fill"})]),Object(c["i"])("a",{href:"#",class:"text-white me-4"},[Object(c["i"])("i",{class:"bi pe-2 fs-3 bi-chat-dots-fill"})])])])]),Object(c["i"])("div",{class:"col-md-5 d-flex justify-content-center"},[Object(c["i"])("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3616.8028129752465!2d121.25605971487816!3d24.972822684001045!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x346821ff2247e46d%3A0x629926233052db00!2z5YWn5aOi54Gr6LuK56uZ!5e0!3m2!1szh-TW!2stw!4v1627036997805!5m2!1szh-TW!2stw",width:"100%",height:"450",style:{border:"0"},allowfullscreen:"",loading:"lazy"})])]),Object(c["i"])("div",{class:"\n            d-flex\n            flex-column flex-md-row\n            justify-content-between\n            align-items-md-end align-items-start\n            text-white\n          "})]),Object(c["i"])("hr"),Object(c["i"])("div",{class:"bg-dark py-3"},[Object(c["i"])("p",{class:"mb-0"}," Copyright© 2021 好酒不見 All Rights Reserved ｜ Designed by Chao lei. ")])])],-1);Object(c["v"])();var Q=i((function(t,e,a,Q,R,K){var Y=Object(c["D"])("Loading"),Z=Object(c["D"])("Field"),H=Object(c["D"])("ErrorMessage"),P=Object(c["D"])("Form");return Object(c["u"])(),Object(c["e"])(c["a"],null,[Object(c["i"])("div",s,[Object(c["i"])("div",null,[Object(c["i"])(Y,{active:R.isLoading},null,8,["active"]),l,Object(c["i"])("div",n,[Object(c["i"])("table",o,[r,Object(c["i"])("tbody",null,[R.cart.carts?(Object(c["u"])(!0),Object(c["e"])(c["a"],{key:0},Object(c["B"])(R.cart.carts,(function(t){return Object(c["u"])(),Object(c["e"])("tr",{key:t.id},[Object(c["i"])("td",null,[Object(c["i"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(e){return K.removeCartItem(t.id)},disabled:R.loadingStatus.loadingItem===t.id},[R.loadingStatus.loadingItem===t.id?(Object(c["u"])(),Object(c["e"])("i",d)):Object(c["f"])("",!0),b],8,["onClick","disabled"])]),Object(c["i"])("td",null,[Object(c["h"])(Object(c["G"])(t.product.title)+" ",1),t.coupon?(Object(c["u"])(),Object(c["e"])("div",u," 已套用優惠券 ")):Object(c["f"])("",!0)]),Object(c["i"])("td",null,[Object(c["i"])("div",f,[Object(c["i"])("div",m,[Object(c["Q"])(Object(c["i"])("input",{"onUpdate:modelValue":function(e){return t.qty=e},onBlur:function(e){return K.updateCart(t)},disabled:R.loadingStatus.loadingItem===t.id,min:"1",type:"number",class:"form-control"},null,40,["onUpdate:modelValue","onBlur","disabled"]),[[c["L"],t.qty,void 0,{number:!0}]]),Object(c["i"])("span",j,Object(c["G"])(t.product.unit),1)])])]),Object(c["i"])("td",O,[R.cart.final_total!==R.cart.total?(Object(c["u"])(),Object(c["e"])("small",p,"折扣價：")):Object(c["f"])("",!0),Object(c["h"])(" "+Object(c["G"])(t.final_total),1)])])})),128)):Object(c["f"])("",!0)]),Object(c["i"])("tfoot",null,[Object(c["i"])("tr",null,[h,Object(c["i"])("td",v,Object(c["G"])(R.cart.total),1)]),R.cart.final_total!==R.cart.total?(Object(c["u"])(),Object(c["e"])("tr",g,[x,Object(c["i"])("td",y,Object(c["G"])(R.cart.final_total),1)])):Object(c["f"])("",!0)])]),Object(c["i"])("div",w,[Object(c["i"])(P,{ref:"form",class:"col-md-6",onSubmit:K.createOrder},{default:i((function(t){var a=t.errors;return[Object(c["i"])("div",k,[C,Object(c["i"])(Z,{id:"email",name:"email",type:"email",class:["form-control",{"is-invalid":a["email"]}],placeholder:"請輸入 Email",rules:"email|required",modelValue:R.form.user.email,"onUpdate:modelValue":e[1]||(e[1]=function(t){return R.form.user.email=t})},null,8,["class","modelValue"]),Object(c["i"])(H,{name:"email",class:"invalid-feedback"})]),Object(c["i"])("div",V,[S,Object(c["i"])(Z,{id:"name",name:"姓名",type:"text",class:["form-control",{"is-invalid":a["姓名"]}],placeholder:"請輸入姓名",rules:"required",modelValue:R.form.user.name,"onUpdate:modelValue":e[2]||(e[2]=function(t){return R.form.user.name=t})},null,8,["class","modelValue"]),Object(c["i"])(H,{name:"姓名",class:"invalid-feedback"})]),Object(c["i"])("div",L,[I,Object(c["i"])(Z,{id:"tel",name:"電話",type:"text",class:["form-control",{"is-invalid":a["電話"]}],placeholder:"請輸入電話",rules:"required|min:8|max:10",modelValue:R.form.user.tel,"onUpdate:modelValue":e[3]||(e[3]=function(t){return R.form.user.tel=t})},null,8,["class","modelValue"]),Object(c["i"])(H,{name:"電話",class:"invalid-feedback"})]),Object(c["i"])("div",_,[G,Object(c["i"])(Z,{id:"address",name:"地址",type:"text",class:["form-control",{"is-invalid":a["地址"]}],placeholder:"請輸入地址",rules:"required",modelValue:R.form.user.address,"onUpdate:modelValue":e[4]||(e[4]=function(t){return R.form.user.address=t})},null,8,["class","modelValue"]),Object(c["i"])(H,{name:"地址",class:"invalid-feedback"})]),Object(c["i"])("div",q,[U,Object(c["Q"])(Object(c["i"])("textarea",{name:"",id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":e[5]||(e[5]=function(t){return R.form.message=t})},null,512),[[c["L"],R.form.message]])]),$]})),_:1},8,["onSubmit"])])])])]),Object(c["i"])("div",D,[R.cart.carts?(Object(c["u"])(),Object(c["e"])("div",E,[Object(c["i"])("div",T,[z,(Object(c["u"])(!0),Object(c["e"])(c["a"],null,Object(c["B"])(R.cart.carts,(function(t){return Object(c["u"])(),Object(c["e"])("div",{class:"d-flex mt-4 bg-light",key:t.id},[Object(c["i"])("img",{src:t.product.imageUrl,alt:"",style:{width:"120px",height:"120px","object-fit":"cover"}},null,8,["src"]),Object(c["i"])("div",B,[F,Object(c["i"])("p",A,Object(c["G"])(t.product.title),1),Object(c["i"])("p",W,Object(c["G"])(t.product.category),1),J])])})),128)),M])])):Object(c["f"])("",!0)]),N],64)})),R=(a("99af"),{name:"Cart",data:function(){return{loadingStatus:{loadingItem:""},isLoading:!1,cart:{},form:{user:{name:"",email:"",tel:"",address:""},message:""},coupon_code:""}},created:function(){this.getCart()},methods:{getCart:function(){var t=this;this.isLoading=!0;var e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("lj787448952","/cart");this.$http.get(e).then((function(e){e.data.success?(console.log(e),t.cart=e.data.data,t.isLoading=!1):alert(e.data.message)}))},removeCartItem:function(t){var e=this;this.isLoading=!0;var a="".concat("https://vue3-course-api.hexschool.io/","api/").concat("lj787448952","/cart/").concat(t);this.loadingStatus.loadingItem=t,this.$http.delete(a).then((function(t){t.data.success?(alert(t.data.message),e.getCart()):alert(t.data.message),e.loadingStatus.loadingItem="",e.isLoading=!1}))},updateCart:function(t){var e=this;this.loadingStatus.loadingItem=t.id;var a="".concat("https://vue3-course-api.hexschool.io/","api/").concat("lj787448952","/cart/").concat(t.id),c={product_id:t.product_id,qty:t.qty};this.$http.put(a,{data:c}).then((function(t){t.data.success?(console.log(t),alert(t.data.message),e.loadingStatus.loadingItem="",e.getCart()):(alert(t.data.message),e.loadingStatus.loadingItem="")}))},createOrder:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("lj787448952","/order"),a=this.form;this.$http.post(e,{data:a}).then((function(e){console.log(e),e.data.success?(alert(e.data.message),t.$refs.form.resetForm(),t.getCart()):alert(e.data.message)}))}}});a("687d");R.render=Q,R.__scopeId="data-v-7fe01a0c";e["default"]=R},f5e9:function(t,e,a){}}]);
//# sourceMappingURL=chunk-0fcefed8.4d4e9289.js.map